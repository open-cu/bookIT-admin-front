<p class="h1 block-title">{{ context.data.title ?? 'Создание' }}</p>
<form [formGroup]="creationForm" (ngSubmit)="onSubmit()" class="creation-block-form">
  @for (config of context.data.options; track $index) {
    <div class="input-container">
      <label class="input-label" tuiLabel>{{ config.label ?? config.key }}</label>
      @let placeholder = config.placeholder ?? '';
      @let control = getFormControl(config.key);
      @switch (config.type) {
        @case ("select") {
          <app-single-select-input
            [control]="control"
            [placeholder]="placeholder"
            [options]="config.options ?? []"
          ></app-single-select-input>
        }
        @case ("multiple") {
          <app-chip-input
            [control]="control"
            [placeholder]="placeholder"
          ></app-chip-input>
        }
        @case ("number") {
          <app-number-input
            [control]="control"
            [placeholder]="placeholder"
            [min]="0"
            [max]="1000000"
          ></app-number-input>
        }
        @case ("images") {
          <app-file-input
            [control]="control"
            [placeholder]="placeholder"
          ></app-file-input>
        }
        @default {
          <app-text-input
            [control]="control"
            [placeholder]="placeholder"
          ></app-text-input>
        }
      }
    </div>
  }
  <button
    type="submit"
    tuiButton
    class="create-button"
    [disabled]="creationForm.invalid"
  >{{ context.data.button ?? 'Создать' }}</button>
</form>
